<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Yodlr Admin Page</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function(){
          function loadUsers(){
            $.ajax({
              type: 'GET',
              url: 'https://localhost:3000/users',
              success: function(users){
                var tableBody = $('#userTable tbody');
                tableBody.empty(); // clear the table before adding new rows

              user.forEach(function(user){
                tableBody.append(
                  `<tr>
                    <td>${user.id}</td>
                    <td>${user.email}</td>
                    <td>${user.firstName}</td>
                    <td>${user.lastName}</td>
                    <td>${user.state}</td>
                    <td><button class="delete" data-id="${user.id}">Delete</button></td>
                    </tr>`
                );
                  });
              },
              error: function(err){
                alert('Error fetching users: ' + err.responseJSON.message);
              }
            });
          }

      loadUsers(); //loads users on page load

      //Handle delete button click
      $('#userTable').on('clcik','.delete', function(){
        var userId = $(this).data('id');
        $.ajax({
          type: 'DELETE',
          url:'http://localhost:3000/users/${userId}',
          success
        })
      })
    </script>
  </head>
  <body>
    List user data here
  </body>
</html>
